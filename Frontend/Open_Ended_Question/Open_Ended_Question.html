<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Open_Ended_Question.css">
    <script type="module" src="Open_Ended_Question.js" defer></script>
    <title>Open-Ended Question Module - Career Insights Assessment</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Career Insights Assessment</h1>
            <p>Discover your motivations, values, and goals through reflective questions</p>
        </div>
        
        <div class="content">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar"></div>
            </div>

            <!-- Introduction Screen -->
            <div class="screen intro-screen active" id="introScreen">
                <h2>Welcome to the Open-Ended Question Module</h2>
                <p>This assessment helps us understand your unique perspectives, experiences, and aspirations.</p>
                <p>You'll be asked 5 reflective questions. There are no right or wrong answers – just share your authentic thoughts and experiences.</p>
                <p>Your responses will be analyzed using AI to identify patterns related to:</p>
                <ul style="text-align: left; margin: 20px 0; color: #666;">
                    <li>Career motivations and values</li>
                    <li>Problem-solving approaches</li>
                    <li>Learning styles and growth mindset</li>
                    <li>Collaboration and teamwork preferences</li>
                </ul>
                <p style="margin-top: 20px;"><strong>Take your time and be thoughtful with your responses.</strong></p>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="startAssessment()">Begin Assessment</button>
                </div>
            </div>

            <!-- Question Screen -->
            <div class="screen question-screen" id="questionScreen">
                <h2 id="questionNumber"></h2>
                <div class="question-text" id="questionText"></div>
                <textarea 
                    class="response-area" 
                    id="responseArea" 
                    placeholder="Type your response here..."
                    oninput="updateCharCount()"
                ></textarea>
                <div class="char-count" id="charCount">0 characters</div>
                
                <div class="nav-buttons">
                    <button id="prevBtn" onclick="previousQuestion()">← Previous</button>
                    <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">Next</button>
                </div>
            </div>

            <!-- Results Screen -->
            <div class="screen results-screen" id="resultsScreen">
                <h2>Thank You for Your Reflections</h2>
                <p style="margin-bottom: 30px; color: #666;">Your thoughtful responses have been analyzed. Here are your personalized insights:</p>
                
                <div id="insightsContainer"></div>
                
                <div class="export-section">
                    <h3>📊 Download Your Career Analysis</h3>
                    <div class="export-description">
                        <p>Get comprehensive insights from your assessment responses:</p>
                        <ul style="text-align: left; margin: 15px 0; padding-left: 20px;">
                            <li><strong>Local Analysis:</strong> Quick insights from your responses</li>
                            <li><strong>Full AI Report:</strong> Complete career profile generated by our advanced AI</li>
                            <li><strong>HTML Report:</strong> Beautiful, printable report for sharing</li>
                        </ul>
                    </div>
                    
                    <div class="results-actions">
                        <button onclick="exportResults()" class="btn btn-secondary">
                            📋 Local Analysis
                        </button>
                        
                        <button id="fullReportBtn" onclick="downloadFullReport()" class="btn btn-primary">
                            🚀 Get Full AI Report
                        </button>
                        
                        <button onclick="downloadFormattedReport()" class="btn btn-success">
                            📄 HTML Report
                        </button>
                    </div>
                </div>
                
                <div class="button-group" style="margin-top: 30px;">
                    <button class="btn btn-warning" onclick="window.location.reload()">
                        🔄 Take Assessment Again
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>